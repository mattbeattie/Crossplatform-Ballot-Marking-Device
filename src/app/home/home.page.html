<ion-header>
  <ion-toolbar>
    <div class="center-button">
      <ion-button outline (click)="openSettingsModal()" translate> <ion-icon name="cog-outline"> </ion-icon>SETTINGS</ion-button>
      <ion-button outline (click)="openHelpModal()" translate>
        <ion-icon name="help-outline"></ion-icon>
        HELP
      </ion-button>
      <ion-button outline (click)="openVoteReviewModal()" translate>REVIEW_YOUR_VOTES</ion-button>
    </div>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div *ngIf="!electionIsLoaded && !electionFailedToLoad">
    <ion-spinner name="bubbles"></ion-spinner>
    <ion-label>Loading...</ion-label>
  </div>

  <div *ngIf="electionFailedToLoad">
    <ion-label>The application failed to parse the EDF. Please try another one.</ion-label>
  </div>

  <div *ngIf="electionIsLoaded">
    <ion-slides #contestSlider [options]="sliderConfig">
      <ion-slide *ngFor="let contest of election.contests">
        <div *ngIf="contest.type === 'CandidateContest'">
          <app-candidate-contest [contest]="contest"></app-candidate-contest>
        </div>
        <div *ngIf="contest.type === 'BallotMeasureContest'">
          <app-ballot-measure-contest [contest]="contest"></app-ballot-measure-contest>
        </div>
      </ion-slide>
    </ion-slides>
    <ion-footer>
      <ion-toolbar>
        <div class="center-button">
          <div>
            <ion-button slot="start" outline (click)="goToPreviousContest()" translate
              >PREVIOUS
              <ion-icon slot="start" name="arrow-undo-outline"></ion-icon>
            </ion-button>

            <ion-label style="padding: 20px">{{currentContest}}/{{election.contests.length}}</ion-label>
            <ion-button slot="end" outline (click)="goToNextContest()" translate>
              NEXT
              <ion-icon slot="end" name="arrow-redo-outline"></ion-icon>
            </ion-button>
          </div>
        </div>
      </ion-toolbar>
    </ion-footer>
  </div>
  <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
  <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
</ion-content>
